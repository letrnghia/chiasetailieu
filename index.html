import React, { useState } from 'react';

const CourseMaterialsHub = () => {
  const [expandedSubject, setExpandedSubject] = useState(null);
  const [expandedCategory, setExpandedCategory] = useState(null);

  const subjects = [
    {
      id: 1,
      name: "Web Development",
      categories: [
        {
          name: "Lectures",
          materials: [
            { title: "HTML Basics", type: "pdf" },
            { title: "CSS Fundamentals", type: "pdf" },
            { title: "JavaScript Intro", type: "pdf" }
          ]
        },
        {
          name: "Exercises",
          materials: [
            { title: "HTML Practice Sheet", type: "doc" },
            { title: "CSS Layout Challenge", type: "doc" }
          ]
        },
        {
          name: "Reference Materials",
          materials: [
            { title: "Web Standards Guide", type: "pdf" },
            { title: "Browser Compatibility Chart", type: "pdf" }
          ]
        }
      ]
    },
    {
      id: 2,
      name: "Database Systems",
      categories: [
        {
          name: "Lectures",
          materials: [
            { title: "SQL Fundamentals", type: "pdf" },
            { title: "Database Design", type: "pdf" }
          ]
        },
        {
          name: "Exercises",
          materials: [
            { title: "SQL Query Practice", type: "doc" },
            { title: "ERD Workshop", type: "doc" }
          ]
        },
        {
          name: "Reference Materials",
          materials: [
            { title: "SQL Cheat Sheet", type: "pdf" },
            { title: "Normalization Guide", type: "pdf" }
          ]
        }
      ]
    }
  ];

  // Icon components using emoji for simplicity
  const icons = {
    Lectures: "üìö",
    Exercises: "‚úèÔ∏è",
    "Reference Materials": "üìñ",
    default: "üìÑ"
  };

  return (
    <div className="container mx-auto p-4 max-w-4xl">
      <div className="bg-white rounded-lg shadow-lg p-6">
        <h1 className="text-2xl font-bold mb-6">Course Materials</h1>
        
        <div className="space-y-4">
          {subjects.map((subject) => (
            <div key={subject.id} className="border rounded-lg">
              <button
                className="w-full flex items-center justify-between p-4 hover:bg-gray-50"
                onClick={() => setExpandedSubject(expandedSubject === subject.id ? null : subject.id)}
              >
                <div className="flex items-center gap-2">
                  <span className="text-xl">üìÅ</span>
                  <span className="font-medium">{subject.name}</span>
                </div>
                <span className={`transform transition-transform ${expandedSubject === subject.id ? 'rotate-90' : ''}`}>
                  ‚ñ∂
                </span>
              </button>

              {expandedSubject === subject.id && (
                <div className="p-4">
                  {subject.categories.map((category, idx) => (
                    <div key={idx} className="mt-2">
                      <button
                        className="w-full flex items-center justify-between p-2 hover:bg-gray-50 rounded"
                        onClick={() => setExpandedCategory(expandedCategory === `${subject.id}-${idx}` ? null : `${subject.id}-${idx}`)}
                      >
                        <div className="flex items-center gap-2">
                          <span className="text-xl">{icons[category.name] || icons.default}</span>
                          <span className="font-medium">{category.name}</span>
                        </div>
                        <span className={`transform transition-transform ${expandedCategory === `${subject.id}-${idx}` ? 'rotate-90' : ''}`}>
                          ‚ñ∂
                        </span>
                      </button>

                      {expandedCategory === `${subject.id}-${idx}` && (
                        <div className="ml-8 mt-2 space-y-2">
                          {category.materials.map((material, midx) => (
                            <div
                              key={midx}
                              className="flex items-center gap-2 p-2 hover:bg-gray-50 rounded cursor-pointer"
                            >
                              <span className="text-xl">üìÑ</span>
                              <span>{material.title}</span>
                              <span className="text-xs text-gray-500">({material.type})</span>
                            </div>
                          ))}
                        </div>
                      )}
                    </div>
                  ))}
                </div>
              )}
            </div>
          ))}
        </div>
      </div>
    </div>
  );
};

export default CourseMaterialsHub;
